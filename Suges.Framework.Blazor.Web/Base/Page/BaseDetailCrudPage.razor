@inherits BaseDetailCrudPageComponentClass<TService, TInterface, TModel>

@using Suges.Framework.Blazor.Web.Base
@using Suges.Framework.Blazor.Web.Base.Page
@using Suges.Framework.Blazor.Web.Base.Component.Modal


@using Suges.Framework.Common.Model.Data
@using Suges.Framework.Common.Service
@using Suges.Framework.Model.Model.Enumerations


@typeparam TService where TService : BaseCrudRefit<TInterface, TModel>
@typeparam TInterface where TInterface : IBaseCrudRefit<TModel>
@typeparam TModel where TModel : BaseRequestModel, new()

@if (Model != null)
{
    <EditForm Model="@Model">
        <DataAnnotationsValidator />
        @DetailContent
    </EditForm>

}
<BaseLoadingModal @ref="LoadingModal">
</BaseLoadingModal>
@code{
    protected override void CustomOnAfterRenderAsync(bool firstRender)
        {
            base.CustomOnAfterRenderAsync(firstRender);


            if (firstRender)
            {
                if (Model != null)
                {
                    IsUpdate = true;
                }
                else
                {
                    IsUpdate = false;
                    New();
                }
            }
        }
}